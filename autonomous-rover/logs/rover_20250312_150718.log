2025-03-12 15:07:18,742,INFO,Starting in REAL HARDWARE mode
2025-03-12 15:07:18,743,CRITICAL,Using waypoints file: /home/jay/projects/grassSmoking/autonomous-rover/data/polygon_data.json
2025-03-12 15:07:18,744,CRITICAL,Successfully opened waypoints file
2025-03-12 15:07:18,744,CRITICAL,Raw file content (first 100 chars): [
  {
    "lat": 34.15195716,
    "lon": -77.86700018666667
  },
  {
    "lat": 34.152101085,
    "l...
2025-03-12 15:07:18,745,CRITICAL,==== LOADED WAYPOINTS ====
2025-03-12 15:07:18,745,CRITICAL,WP 0: (34.1519572, -77.8670002)
2025-03-12 15:07:18,746,CRITICAL,WP 1: (34.1521011, -77.8669438)
2025-03-12 15:07:18,746,CRITICAL,WP 2: (34.1520569, -77.8668358)
2025-03-12 15:07:18,746,CRITICAL,WP 3: (34.1519539, -77.8668528)
2025-03-12 15:07:18,747,CRITICAL,========================
2025-03-12 15:07:18,747,INFO,Initializing GPS Monitor (simulation=False)
2025-03-12 15:07:18,753,INFO,Connected to front GPS on /dev/ttyACM0
2025-03-12 15:07:18,754,INFO,Connected to rear GPS on /dev/ttyACM1
2025-03-12 15:07:18,775,INFO,Motor controller initialized successfully
2025-03-12 15:07:18,775,INFO,Stanley Controller initialized with 4 waypoints
2025-03-12 15:07:18,776,INFO,Steering sensitivity: 60.0° (tanh denominator)
2025-03-12 15:07:18,776,INFO,Max steering angle: 90.0°
2025-03-12 15:07:18,776,INFO,Waypoint reach threshold: 1.0 meters
2025-03-12 15:07:18,776,CRITICAL,==== CONTROLLER WAYPOINTS ====
2025-03-12 15:07:18,776,CRITICAL,WP 0: (34.1519572, -77.8670002)
2025-03-12 15:07:18,777,CRITICAL,WP 1: (34.1521011, -77.8669438)
2025-03-12 15:07:18,777,CRITICAL,WP 2: (34.1520569, -77.8668358)
2025-03-12 15:07:18,777,CRITICAL,WP 3: (34.1519539, -77.8668528)
2025-03-12 15:07:18,777,CRITICAL,========================
2025-03-12 15:07:18,777,INFO,Initializing GPS Monitor (simulation=False)
2025-03-12 15:07:18,781,INFO,Connected to front GPS on /dev/ttyACM0
2025-03-12 15:07:18,781,INFO,Connected to rear GPS on /dev/ttyACM1
2025-03-12 15:07:18,794,INFO,Motor controller initialized successfully
2025-03-12 15:07:18,794,CRITICAL,MOTOR CONTROLLER MAX SPEED: 0.3
2025-03-12 15:07:18,795,INFO,Starting hardware control loop. Press Ctrl+C to stop.
2025-03-12 15:07:18,795,INFO,Performing GPS preflight check...
2025-03-12 15:07:18,795,WARNING,No heading available (missing GPS data)
2025-03-12 15:07:18,795,WARNING,Waiting for valid GPS data... (lat=None, lon=None, heading=None)
2025-03-12 15:07:19,796,INFO,GPS preflight check passed! Position: (34.1519327, -77.8668987), Heading: 331.0°
2025-03-12 15:07:19,797,INFO,DEBUG - TARGET WP: 0 [9.7m] | GPS Heading: 331.0°, Bearing to target: 286.2°, Needed turn: -44.7° LEFT
2025-03-12 15:07:19,798,WARNING,=== COORDINATE DEBUG ===
2025-03-12 15:07:19,798,WARNING,Current position: (34.1519327, -77.8668987), Heading: 331.0°
2025-03-12 15:07:19,798,WARNING,Target waypoint 0: (34.1519572, -77.8670002)
2025-03-12 15:07:19,799,WARNING,DIRECT BEARING CALCULATION: 286.2°
2025-03-12 15:07:19,799,WARNING,CONTROLLER BEARING CALCULATION: 286.2°
2025-03-12 15:07:19,799,WARNING,WITH SWAPPED TARGET COORDS: 165.7°
2025-03-12 15:07:19,800,WARNING,WITH SWAPPED CURRENT COORDS: 256.4°
2025-03-12 15:07:19,800,WARNING,=== END DEBUG ===
2025-03-12 15:07:19,801,WARNING,MOTOR DEBUG - Raw steering command: -56.9°
2025-03-12 15:07:19,801,INFO,LEFT TURN: 56.9°
2025-03-12 15:07:19,801,WARNING,MOTOR DEBUG - LEFT turn factors: L=0.368, R=1.000
2025-03-12 15:07:19,802,WARNING,MOTOR DEBUG - Speed=0.15, Factors: L=0.37, R=1.00
2025-03-12 15:07:19,802,WARNING,MOTOR DEBUG - Final speeds: L=0.06, R=0.15
2025-03-12 15:07:19,802,INFO,Applying to motors - Left: 0.06, Right: 0.15
2025-03-12 15:07:19,805,INFO,
2025-03-12 15:07:19,806,INFO,DISTANCE TO TARGET: 9.75m [###########---------]
2025-03-12 15:07:19,806,INFO,WAYPOINT: 0/3
2025-03-12 15:07:19,806,INFO,
2025-03-12 15:07:19,807,ERROR,Error in control loop: 'steering_angle'
2025-03-12 15:07:19,809,INFO,Motors stopped
2025-03-12 15:07:20,820,INFO,DEBUG - TARGET WP: 0 [9.7m] | GPS Heading: 331.9°, Bearing to target: 286.2°, Needed turn: -45.7° LEFT
2025-03-12 15:07:20,820,WARNING,=== COORDINATE DEBUG ===
2025-03-12 15:07:20,821,WARNING,Current position: (34.1519327, -77.8668988), Heading: 331.9°
2025-03-12 15:07:20,821,WARNING,Target waypoint 0: (34.1519572, -77.8670002)
2025-03-12 15:07:20,821,WARNING,DIRECT BEARING CALCULATION: 286.2°
2025-03-12 15:07:20,822,WARNING,CONTROLLER BEARING CALCULATION: 286.2°
2025-03-12 15:07:20,822,WARNING,WITH SWAPPED TARGET COORDS: 165.7°
2025-03-12 15:07:20,822,WARNING,WITH SWAPPED CURRENT COORDS: 256.4°
2025-03-12 15:07:20,822,WARNING,=== END DEBUG ===
2025-03-12 15:07:20,823,WARNING,MOTOR DEBUG - Raw steering command: -57.8°
2025-03-12 15:07:20,823,INFO,LEFT TURN: 57.8°
2025-03-12 15:07:20,824,WARNING,MOTOR DEBUG - LEFT turn factors: L=0.358, R=1.000
2025-03-12 15:07:20,824,WARNING,MOTOR DEBUG - Speed=0.15, Factors: L=0.36, R=1.00
2025-03-12 15:07:20,824,WARNING,MOTOR DEBUG - Final speeds: L=0.05, R=0.15
2025-03-12 15:07:20,824,INFO,Applying to motors - Left: 0.05, Right: 0.15
2025-03-12 15:07:20,829,INFO,
2025-03-12 15:07:20,830,INFO,DISTANCE TO TARGET: 9.74m [###########---------]
2025-03-12 15:07:20,830,INFO,WAYPOINT: 0/3
2025-03-12 15:07:20,830,INFO,
2025-03-12 15:07:20,830,CRITICAL,===== BEARING ALGORITHM CHECK =====
2025-03-12 15:07:20,831,CRITICAL,Current: (34.1519327, -77.8668988), Target: (34.1519572, -77.8670002)
2025-03-12 15:07:20,831,CRITICAL,Serial Monitor: 286.2°
2025-03-12 15:07:20,831,CRITICAL,Controller: 286.2°
2025-03-12 15:07:20,831,CRITICAL,Swapped Current: 256.4°
2025-03-12 15:07:20,832,CRITICAL,Swapped Target: 165.7°
2025-03-12 15:07:20,832,CRITICAL,================================
2025-03-12 15:07:20,833,ERROR,Error in control loop: 'steering_angle'
2025-03-12 15:07:20,835,INFO,Motors stopped
2025-03-12 15:07:21,846,INFO,DEBUG - TARGET WP: 0 [9.7m] | GPS Heading: 332.7°, Bearing to target: 286.2°, Needed turn: -46.5° LEFT
2025-03-12 15:07:21,846,WARNING,=== COORDINATE DEBUG ===
2025-03-12 15:07:21,847,WARNING,Current position: (34.1519328, -77.8668988), Heading: 332.7°
2025-03-12 15:07:21,847,WARNING,Target waypoint 0: (34.1519572, -77.8670002)
2025-03-12 15:07:21,847,WARNING,DIRECT BEARING CALCULATION: 286.2°
2025-03-12 15:07:21,848,WARNING,CONTROLLER BEARING CALCULATION: 286.2°
2025-03-12 15:07:21,848,WARNING,WITH SWAPPED TARGET COORDS: 165.7°
2025-03-12 15:07:21,848,WARNING,WITH SWAPPED CURRENT COORDS: 256.4°
2025-03-12 15:07:21,848,WARNING,=== END DEBUG ===
2025-03-12 15:07:21,849,WARNING,MOTOR DEBUG - Raw steering command: -58.5°
2025-03-12 15:07:21,849,INFO,LEFT TURN: 58.5°
2025-03-12 15:07:21,849,WARNING,MOTOR DEBUG - LEFT turn factors: L=0.350, R=1.000
2025-03-12 15:07:21,850,WARNING,MOTOR DEBUG - Speed=0.15, Factors: L=0.35, R=1.00
2025-03-12 15:07:21,850,WARNING,MOTOR DEBUG - Final speeds: L=0.05, R=0.15
2025-03-12 15:07:21,851,INFO,Applying to motors - Left: 0.05, Right: 0.15
2025-03-12 15:07:21,854,INFO,
2025-03-12 15:07:21,854,INFO,DISTANCE TO TARGET: 9.73m [###########---------]
2025-03-12 15:07:21,855,INFO,WAYPOINT: 0/3
2025-03-12 15:07:21,855,INFO,
2025-03-12 15:07:21,855,ERROR,Error in control loop: 'steering_angle'
2025-03-12 15:07:21,858,INFO,Motors stopped
2025-03-12 15:07:22,113,INFO,Manual stop requested
2025-03-12 15:07:22,113,INFO,Stopping motors and cleaning up...
2025-03-12 15:07:22,115,INFO,Motors stopped
